---
title: Document.ononline
slug: Web/API/Window/online_event
tags:
  - API
  - 原型
  - 文档
  - 文档说明
  - 方法
  - 页面文档
translation_of: Web/API/Document/ononline
original_slug: Web/API/Document/ononline
---
<p>{{APIRef("DOM")}}</p>

<p>当浏览器在联机和脱机模式之间切换时，会在每个页面的&lt;body&gt;触发<code>online</code>事件。此外，这些事件从<code>document.body</code>，到<code>document</code>结束于<code>window</code>。这两个事件（在线状态或离线状态）都是不可取消的（您无法阻止用户进入在线状态或离线状态）。</p>

<p>如果浏览器处于联机状态，window.navigator.onLine 将返回布尔值<em>true</em>，如果它 处于脱机状态（从网络断开连接），则返回 false。当此属性的值更改时，会触发联机和脱机事件。</p>

<div class="note">
<p>重要的是要注意，这个事件和属性本质上是不可靠的。计算机可以连接到网络而无需访问 Internet。</p>
</div>

<p>您可以用几种常见的方法监听这些事件：</p>

<ul>
 <li><code>使用 window</code>，<code>document</code>或<code>document.body 的</code><code><a href="https://developer.mozilla.org/en/DOM/element.addEventListener" title="en/DOM/element.addEventListener">addEventListener</a>方法</code></li>
 <li>通过设置<code>document</code>或<code>document.body</code>的<code>.ononline</code>或<code>.onoffline</code>属性到一个 JavaScript <code>Function</code>对象。（<strong>注意：</strong>使用<code>window.ononline</code>或<code>window.onoffline</code>有兼容性问题。）</li>
 <li>通过指定 HTML 的<code>&lt;body&gt;</code>标签中的属性<code>ononline="..."</code>或<code>onoffline="..."</code></li>
</ul>

<h2 id="Example" name="Example">例子</h2>

<p>有<a href="https://bugzilla.mozilla.org/attachment.cgi?id=220609" rel="noopener">一个简单的测试用例</a>，你可以运行，以验证该事件工作。</p>

<h2 id="Example" name="Example">参考</h2>

<ul>
 <li><a href="https://developer.mozilla.org/en-US/docs/Online_and_offline_events">Online 和 offline 事件 [en-US]</a></li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-online" rel="noopener">WHATWG Web App 规范</a></li>
</ul>
