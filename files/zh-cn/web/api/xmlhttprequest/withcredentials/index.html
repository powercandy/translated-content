---
title: XMLHttpRequest.withCredentials
slug: Web/API/XMLHttpRequest/withCredentials
tags:
  - AJAX
  - XMLHttpRequest
translation_of: Web/API/XMLHttpRequest/withCredentials
---
<p>{{APIRef('XMLHttpRequest')}}</p>

<p><strong>XMLHttpRequest.withCredentials</strong> 属性是一个 {{jsxref("Boolean")}} 类型，它指示了是否该使用类似 Cookies、Authorization Headers (头部授权) 或者 TLS 客户端证书这一类资格证书来创建一个跨站点访问控制（cross-site <code>Access-Control</code>）请求。在同一个站点下使用 <code>withCredentials</code> 属性是无效的。</p>

<p><code>此外，这个指示</code>也会被用做<code>响应中</code> Cookies 被忽视的标示。默认值是 false。</p>

<p>如果在发送来自其他域的 XMLHttpRequest 请求之前，未设置<code>withCredentials</code> 为 true，那么就不能为它自己的域设置 Cookie 值。而通过设置 <code>withCredentials</code> 为 true 获得的第三方 Cookies，将会依旧享受同源策略，因此不能被通过 <a href="/en-US/docs/Web/API/Document/cookie">document.cookie</a> 或者从头部相应请求的脚本等访问。</p>

<div class="note">
<p><strong>注：</strong>永远不会影响到同源请求</p>
</div>

<div class="note">
<p><strong>Note:</strong>不同域下的 <code>XmlHttpRequest</code> 响应，不论其 <code>Access-Control-</code> Header 设置什么值，都无法为它自身站点设置 Cookie 值，除非它在请求之前将 <code>withCredentials</code> 设为 true。</p>
</div>

<h2 id="实例">实例</h2>

<pre class="brush: js">var xhr = new XMLHttpRequest();
xhr.open('GET', 'http://example.com/', true);
xhr.withCredentials = true;
xhr.send(null);</pre>

<h2 id="详述">详述</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td>{{SpecName('XMLHttpRequest', '#the-withcredentials-attribute')}}</td>
   <td>{{Spec2('XMLHttpRequest')}}</td>
   <td>WHATWG living standard</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

{{Compat("api.XMLHttpRequest.withCredentials")}}
